!function(f){function s(s,o,i){var a;return function(){var t=this,e=arguments,n=i&&!a;clearTimeout(a),a=setTimeout(function(){a=null,i||s.apply(t,e)},o),n&&s.apply(t,e)}}var o=function(t,e){var n=this;n.defaultOptions={snapOffset:0,snapAlignment:"left",snapLeeway:5,preventEdgeSnapping:!0,buttonType:"indicator",fadeObscured:!1,fadeOpacity:.5,animationLength:250,debounce:200};var s=f(t).data("webcarousel")||{};n.options=f.extend({},n.defaultOptions,s,e),n.carousel=t,n.$carousel=f(t),n.$carouselItems=n.$carousel.children(),n.viewportChangeHandler=f.proxy(n.viewportChangeHandler,n),n.scrollHandler=f.proxy(n.scrollHandler,n),n.init()};o.prototype.init=function(){var n=this;"arrows"===n.options.buttonType?(f("<button/>",{class:"wc__next-button wc__button",text:"next",click:function(){n.scrollHandler("right")}}).appendTo(n.$carousel),f("<button/>",{class:"wc__prev-button wc__button",text:"prev",click:function(){n.scrollHandler("left")}}).prependTo(n.$carousel)):"indicator"===n.options.buttonType&&(f("<div/>",{class:"wc__indicator-container"}).appendTo(n.$carousel),n.$carouselItems.each(function(e,t){f("<button/>",{class:"wc__indicator-button",text:e+1,click:function(){var t=n.childrenLeftBounds[e];n.$carousel.animate({scrollLeft:t},n.options.animationLength)}}).appendTo(f(".wc__indicator-container"))})),n.viewportChangeHandler();var t=s(n.viewportChangeHandler,n.options.debounce),e=s(n.scrollHandler,n.options.debounce);f(window).on("resize",t),f(window).on("orientationchange",t),n.$carousel.on("scroll",e)},o.prototype.viewportChangeHandler=function(){var n=this;n.carouselWidth=n.$carousel.width(),n.carouselCenter=n.carouselWidth/2,n.carouselOffset=n.$carousel.offset().left,n.carouselScrollWidth=n.carousel.scrollWidth,n.childrenLeftBounds=n.$carouselItems.map(function(t,e){return f(e).offset().left+n.$carousel.scrollLeft()}).get()},o.prototype.scrollHandler=function(r){var l,c,p=this,u=p.$carousel.scrollLeft();if(p.$carouselItems.each(function(t,e){var n=f(e).offset().left-p.carouselOffset,s=n+f(e).outerWidth();if(!0===p.options.fadeObscured&&(n<=-1||s>=p.carouselWidth+1?f(e).css("opacity",p.options.fadeOpacity):f(e).css("opacity",1)),"center"===p.options.snapAlignment){var o=p.alignCenter(t,e,u,n,l,r);o&&(l=o.closestDistance,c=o.scrollAdjust,o.snapIndex)}else if("left"===p.options.snapAlignment){var i=p.alignLeft(t,e,u,n,l,r);i&&(l=i.closestDistance,c=i.scrollAdjust,i.snapIndex)}else if("right"===p.options.snapAlignment){var a=p.alignRight(t,e,u,s,l,r);a&&(l=a.closestDistance,c=a.scrollAdjust,a.snapIndex)}}),!r&&(p.options.preventEdgeSnapping&&u<=2||p.options.preventEdgeSnapping&&u+p.carouselWidth>=p.carouselScrollWidth-2))return!1;l>=p.options.snapLeeway&&p.$carousel.animate({scrollLeft:c},p.options.animationLength)},o.prototype.alignCenter=function(t,e,n,s,o,i){var a=this,r=s+f(e).outerWidth()/2,l=a.carouselCenter-r,c=Math.abs(l);if("left"===i){if(0<Math.floor(l)&&(void 0===o||c<o))return{closestDistance:c,scrollAdjust:n+c+a.options.snapOffset,snapIndex:t}}else if("right"===i){if(Math.ceil(l)<0&&(void 0===o||c<o))return{closestDistance:c,scrollAdjust:n+c+a.options.snapOffset,snapIndex:t}}else if(0<r&&r<=a.carouselWidth&&(void 0===o||c<=o))return{closestDistance:c,scrollAdjust:n-l+a.options.snapOffset,snapIndex:t}},o.prototype.alignLeft=function(t,e,n,s,o,i){var a=parseInt(f(e).css("marginLeft")),r=Math.abs(s);if(console.log(a),"left"===i){if(Math.ceil(s)<0&&(void 0===o||r<o))return{closestDistance:r,scrollAdjust:n-r+this.options.snapOffset-a,snapIndex:t}}else if("right"===i){if(0<Math.floor(s)&&(void 0===o||r<o))return{closestDistance:r,scrollAdjust:n+r+this.options.snapOffset-a,snapIndex:t}}else if(void 0===o||r<=o)return{closestDistance:r,scrollAdjust:n+s+this.options.snapOffset-a,snapIndex:t}},o.prototype.alignRight=function(t,e,n,s,o,i){var a=this.carouselWidth-s,r=parseInt(f(e).css("marginRight")),l=Math.abs(a);if("left"===i){if(0<Math.floor(a)&&(void 0===o||l<o))return{closestDistance:l,scrollAdjust:n-l+this.options.snapOffset+r,snapIndex:t}}else if("right"===i){if(Math.ceil(a)<0&&(void 0===o||l<o))return{closestDistance:absDistanceLeft,scrollAdjust:n+l+this.options.snapOffset+r,snapIndex:t}}else if(void 0===o||l<=o)return{closestDistance:l,scrollAdjust:n-a+this.options.snapOffset+r,snapIndex:t}},f.fn.weberCarousel=function(){for(var t=arguments[0],e=(Array.prototype.slice.call(arguments,1),this.length),n=0;n<e;n++){if("object"!=typeof t&&void 0!==t)throw new Error("Type of argument is not object");this[n].weberCarousel=new o(this[n],t)}return this}}(jQuery),$(".carousel").weberCarousel({snapAlignment:"right"});