!function(f){function n(n,s,i){var a;return function(){var t=this,e=arguments,o=i&&!a;clearTimeout(a),a=setTimeout(function(){a=null,i||n.apply(t,e)},s),o&&n.apply(t,e)}}var s=function(t,e){var o=this;o.defaultOptions={snapOffset:0,snapAlignment:"left",snapMargin:5,preventEdgeSnapping:!0,buttonType:"indicator",fadeObscured:!1,fadeOpacity:.5,animationLength:250,debounce:200};var n=f(t).data("webcarousel")||{};o.options=f.extend({},o.defaultOptions,n,e),o.carousel=t,o.$carousel=f(t),o.$carouselItems=o.$carousel.children(),o.viewportChangeHandler=f.proxy(o.viewportChangeHandler,o),o.scrollHandler=f.proxy(o.scrollHandler,o),o.init()};s.prototype.init=function(){var o=this;"arrows"===o.options.buttonType?(f("<button/>",{class:"wc__next-button wc__button",text:"next",click:function(){o.scrollHandler("right")}}).appendTo(o.$carousel),f("<button/>",{class:"wc__prev-button wc__button",text:"prev",click:function(){o.scrollHandler("left")}}).prependTo(o.$carousel)):"indicator"===o.options.buttonType&&(f("<div/>",{class:"wc__indicator-container"}).appendTo(o.$carousel),o.$carouselItems.each(function(e,t){f("<button/>",{class:"wc__indicator-button",text:e+1,click:function(){var t=o.childrenLeftBounds[e];o.$carousel.animate({scrollLeft:t},o.options.animationLength)}}).appendTo(f(".wc__indicator-container"))})),o.viewportChangeHandler();var t=n(o.viewportChangeHandler,o.options.debounce),e=n(o.scrollHandler,o.options.debounce);f(window).on("resize",t),f(window).on("orientationchange",t),o.$carousel.on("scroll",e)},s.prototype.viewportChangeHandler=function(){var o=this;o.carouselWidth=o.$carousel.width(),o.carouselCenter=o.carouselWidth/2,o.carouselOffset=o.$carousel.offset().left,o.carouselScrollWidth=o.carousel.scrollWidth,o.childrenLeftBounds=o.$carouselItems.map(function(t,e){return f(e).offset().left+o.$carousel.scrollLeft()}).get()},s.prototype.scrollHandler=function(r){var l,c,p=this,u=p.$carousel.scrollLeft();if(p.$carouselItems.each(function(t,e){var o=f(e).offset().left-p.carouselOffset,n=o+f(e).width();if(console.log(p.options.snapAlignment),!0===p.options.fadeObscured&&(o<=-1||n>=p.carouselWidth+1?f(e).css("opacity",p.options.fadeOpacity):f(e).css("opacity",1)),"center"===p.options.snapAlignment){var s=p.alignCenter(t,e,u,o,l,r);s&&(l=s.closestDistance,c=s.scrollAdjust,s.snapIndex)}else if("left"===p.options.snapAlignment){var i=p.alignLeft(t,e,u,o,l,r);i&&(l=i.closestDistance,c=i.scrollAdjust,i.snapIndex)}else if("right"===p.options.snapAlignment){var a=p.alignRight(t,e,u,n,l,r);a&&(l=a.closestDistance,c=a.scrollAdjust,a.snapIndex)}}),!r&&(p.options.preventEdgeSnapping&&u<=2||p.options.preventEdgeSnapping&&u+p.carouselWidth>=p.carouselScrollWidth-2))return!1;console.log("~~~~~~~~~~~~~~"),console.log(u),console.log(l),console.log(c),console.log("##############"),l>=p.options.snapMargin&&p.$carousel.animate({scrollLeft:c},p.options.animationLength)},s.prototype.alignCenter=function(t,e,o,n,s,i){var a=this,r=n+f(e).width()/2,l=a.carouselCenter-r,c=Math.abs(l);if("left"===i){if(0<Math.floor(l)&&(void 0===s||c<s))return{closestDistance:c,scrollAdjust:o+c+a.options.snapOffset,snapIndex:t}}else if("right"===i){if(Math.ceil(l)<0&&(void 0===s||c<s))return{closestDistance:c,scrollAdjust:o+c+a.options.snapOffset,snapIndex:t}}else if(0<r&&r<=a.carouselWidth&&(void 0===s||c<=s))return{closestDistance:c,scrollAdjust:o-l+a.options.snapOffset,snapIndex:t}},s.prototype.alignLeft=function(t,e,o,n,s,i){var a=Math.abs(n);if("left"===i){if(Math.ceil(n)<0&&(void 0===s||a<s))return{closestDistance:a,scrollAdjust:o-a+this.options.snapOffset,snapIndex:t}}else if("right"===i){if(0<Math.floor(n)&&(void 0===s||a<s))return{closestDistance:a,scrollAdjust:o+a+this.options.snapOffset,snapIndex:t}}else if(void 0===s||a<=s)return{closestDistance:a,scrollAdjust:o+n+this.options.snapOffset,snapIndex:t}},s.prototype.alignRight=function(t,e,o,n,s,i){var a=this.carouselWidth-n,r=Math.abs(a);if("left"===i){if(0<Math.floor(a)&&(void 0===s||r<s))return{closestDistance:r,scrollAdjust:o-r+this.options.snapOffset,snapIndex:t}}else if("right"===i){if(Math.ceil(a)<0&&(void 0===s||r<s))return{closestDistance:absDistanceLeft,scrollAdjust:o+r+this.options.snapOffset,snapIndex:t}}else if(void 0===s||r<=s)return{closestDistance:r,scrollAdjust:o-a+this.options.snapOffset,snapIndex:t}},f.fn.weberCarousel=function(){for(var t=arguments[0],e=(Array.prototype.slice.call(arguments,1),this.length),o=0;o<e;o++){if("object"!=typeof t&&void 0!==t)throw new Error("Type of argument is not object");this[o].weberCarousel=new s(this[o],t)}return this}}(jQuery),$(".carousel").weberCarousel({snapAlignment:"right"});