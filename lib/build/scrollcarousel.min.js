!function(f){function o(o,s,i){var a;return function(){var t=this,e=arguments,n=i&&!a;clearTimeout(a),a=setTimeout(function(){a=null,i||o.apply(t,e)},s),n&&o.apply(t,e)}}var s=function(t,e){var n=this;n.defaultOptions={snapOffset:0,snapAlignment:"center",snapMargin:5,preventEdgeSnapping:!0,buttonType:"indicator",fadeObscured:!1,fadeOpacity:.5,animationLength:250,debounce:200};var o=f(t).data("webcarousel")||{};n.options=f.extend({},n.defaultOptions,o,e),n.carousel=t,n.$carousel=f(t),n.$carouselItems=n.$carousel.children(),n.viewportChangeHandler=f.proxy(n.viewportChangeHandler,n),n.scrollHandler=f.proxy(n.scrollHandler,n),n.init()};s.prototype.init=function(){var n=this;"arrows"===n.options.buttonType?(f("<button/>",{class:"wc__next-button wc__button",text:"next",click:function(){n.scrollHandler("right")}}).appendTo(n.$carousel),f("<button/>",{class:"wc__prev-button wc__button",text:"prev",click:function(){n.scrollHandler("left")}}).prependTo(n.$carousel)):"indicator"===n.options.buttonType&&(f("<div/>",{class:"wc__indicator-container"}).appendTo(n.$carousel),n.$carouselItems.each(function(e,t){f("<button/>",{class:"wc__indicator-button",text:e+1,click:function(){var t=n.childrenLeftBounds[e];n.$carousel.animate({scrollLeft:t},n.options.animationLength)}}).appendTo(f(".wc__indicator-container"))})),n.viewportChangeHandler();var t=o(n.viewportChangeHandler,n.options.debounce),e=o(n.scrollHandler,n.options.debounce);f(window).on("resize",t),f(window).on("orientationchange",t),n.$carousel.on("scroll",e)},s.prototype.viewportChangeHandler=function(){var n=this;n.carouselWidth=n.$carousel.width(),n.carouselCenter=n.carouselWidth/2,n.carouselOffset=n.$carousel.offset().left,n.carouselScrollWidth=n.carousel.scrollWidth,n.childrenLeftBounds=n.$carouselItems.map(function(t,e){return f(e).offset().left+n.$carousel.scrollLeft()}).get()},s.prototype.scrollHandler=function(r){var l,c,p=this,u=p.$carousel.scrollLeft();if(p.$carouselItems.each(function(t,e){var n=f(e).offset().left-p.carouselOffset,o=n+f(e).width();if(!0===p.options.fadeObscured&&(n<=-1||o>=p.carouselWidth+1?f(e).css("opacity",p.options.fadeOpacity):f(e).css("opacity",1)),"center"===p.options.snapAlignment){var s=p.alignCenter(t,e,u,n,l,r);s&&(l=s.closestDistance,c=s.scrollAdjust,s.snapIndex)}else if("left"===p.options.snapAlignment){var i=p.alignLeft(t,e,u,n,l,r);i&&(l=i.closestDistance,c=i.scrollAdjust,i.snapIndex)}else if("right"===p.options.snapAlignment){var a=p.alignRight(t,e,u,o,l,r);a&&(l=a.closestDistance,c=a.scrollAdjust,a.snapIndex)}}),!r&&(p.options.preventEdgeSnapping&&u<=2||p.options.preventEdgeSnapping&&u+p.carouselWidth>=p.carouselScrollWidth-2))return!1;l>=p.options.snapMargin&&p.$carousel.animate({scrollLeft:c},p.options.animationLength)},s.prototype.alignCenter=function(t,e,n,o,s,i){var a=this,r=o+f(e).width()/2,l=a.carouselCenter-r,c=Math.abs(l);if("left"===i){if(0<Math.floor(l)&&(void 0===s||c<s))return{closestDistance:c,scrollAdjust:n+c+a.options.snapOffset,snapIndex:t}}else if("right"===i){if(Math.ceil(l)<0&&(void 0===s||c<s))return{closestDistance:c,scrollAdjust:n+c+a.options.snapOffset,snapIndex:t}}else if(0<r&&r<=a.carouselWidth&&(void 0===s||c<=s))return{closestDistance:c,scrollAdjust:n-l+a.options.snapOffset,snapIndex:t}},s.prototype.alignLeft=function(t,e,n,o,s,i){var a=Math.abs(o);if("left"===i){if(Math.ceil(o)<0&&(void 0===s||a<s))return{closestDistance:a,scrollAdjust:n-a+this.options.snapOffset,snapIndex:t}}else if("right"===i){if(0<Math.floor(o)&&(void 0===s||a<s))return{closestDistance:a,scrollAdjust:n+a+this.options.snapOffset,snapIndex:t}}else if(void 0===s||a<=s)return{closestDistance:a,scrollAdjust:n+o+this.options.snapOffset,snapIndex:t}},s.prototype.alignRight=function(t,e,n,o,s,i){var a=this.carouselWidth-o,r=Math.abs(a);if("left"===i){if(0<Math.floor(a)&&(void 0===s||r<s))return{closestDistance:r,scrollAdjust:n-r+this.options.snapOffset,snapIndex:t}}else if("right"===i){if(Math.ceil(a)<0&&(void 0===s||r<s))return{closestDistance:absDistanceLeft,scrollAdjust:n+r+this.options.snapOffset,snapIndex:t}}else if(void 0===s||r<=s)return{closestDistance:r,scrollAdjust:n-a+this.options.snapOffset,snapIndex:t}},f.fn.weberCarousel=function(){for(var t=arguments[0],e=(Array.prototype.slice.call(arguments,1),this.length),n=0;n<e;n++){if("object"!=typeof t&&void 0!==t)throw new Error("Type of argument is not object");this[n].weberCarousel=new s(this[n],t)}return this}}(jQuery);